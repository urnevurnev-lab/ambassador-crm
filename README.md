# Ambassador CRM: Hookah & Tobacco Edition

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **Telegram Mini App (TWA)** –±–∏–∑–Ω–µ—Å-–∫–ª–∞—Å—Å–∞, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –∞–º–±–∞—Å—Å–∞–¥–æ—Ä–æ–≤ –∏ —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π –≤ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏ –∫–∞–ª—å—è–Ω–æ–≤ –∏ —Ç–∞–±–∞–∫–∞. –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏—é "Technical Excellence" —Å –≥–ª—É–±–æ–∫–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –Ω–∞—Ç–∏–≤–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π Telegram.

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –¥–≤–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —á–∞—Å—Ç–∏:
1.  **Frontend (`/frontend`)**: React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Vite), —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–¥ –ø—Ä–µ–º–∏–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å iOS/Telegram —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Tailwind CSS –∏ Framer Motion. –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç `tsc` —Å–±–æ—Ä–∫—É –±–µ–∑ –æ—à–∏–±–æ–∫.
2.  **Backend (`/backend`)**: –í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π API –Ω–∞ –±–∞–∑–µ NestJS, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π Prisma ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL.

---

## üì± Telegram SDK Integration (v8.0+)

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ **Official Telegram Mini App SDK** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–µ—Å—à–æ–≤–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞:

### 1. –ù–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏ (Native UI)
- **`BackButton`**: –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Ç–∏–≤–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π ¬´–ù–∞–∑–∞–¥¬ª. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ –≥–ª—É–±–æ–∫–∏—Ö —É—Ä–æ–≤–Ω—è—Ö –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ.
- **`ClosingConfirmation`**: –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–≤–∞–π–ø–æ–º –≤–Ω–∏–∑. –í–∫–ª—é—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ –∏–ª–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞ –æ –≤–∏–∑–∏—Ç–µ.
- **`BiometricManager`**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è FaceID / TouchID –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ –≤ –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

### 2. –¢–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ—Ç–¥–∞—á–∞ (Haptic Feedback)
- **Impact Transitions**: –õ–µ–≥–∫–∞—è –≤–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –≤ –º–∞—Å—Ç–µ—Ä–∞—Ö (Wizards).
- **Notification Feedback**: –°–∏–≥–Ω–∞–ª—ã —É—Å–ø–µ—Ö–∞ (Success) –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–∫–∞–∑–æ–≤ –∏ –≤–∏–∑–∏—Ç–æ–≤.
- **Error Feedback**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –ø—Ä–∏ –Ω–µ–≤–µ—Ä–Ω–æ–º –≤–≤–æ–¥–µ –ø–∞—Ä–æ–ª—è.

### 3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **Dynamic Safe Areas**: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç `env(safe-area-inset-top)` –∏ `bottom` —á–µ—Ä–µ–∑ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —Å Dynamic Island –∏ –≤—ã—Ä–µ–∑–∞–º–∏.
- **Viewport Height Sync**: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—ã—Å–æ—Ç—ã –≤—å—é–ø–æ—Ä—Ç–∞ —Å `WebApp.viewportStableHeight` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –º–µ—Ä—Ü–∞–Ω–∏—è –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### Backend –ú–æ–¥—É–ª–∏ (`backend/src`)
| –ú–æ–¥–µ–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- |
| **`Visits`** | 4 —Å—Ü–µ–Ω–∞—Ä–∏—è: *–¢—Ä–∞–Ω–∑–∏—Ç (–∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è), –î–µ–≥—É—Å—Ç–∞—Ü–∏—è, B2B, –°–º–µ–Ω–∞*. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Å—Ç–∞—Ç–∫–æ–≤. |
| **`Orders`** | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤ –¥–∏—Å—Ç—Ä–∏–±—å—é—Ç–æ—Ä–∞–º –∏ —Ä–∞—Å—á–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞. |
| **`Products`** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SKU —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Top Flavor (–º–∞—Å—Ç-–ª–∏—Å—Ç). |
| **`Telegram`** | –°–µ—Ä–≤–∏—Å –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–π —Å Inline-–∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –¥–∏—Å—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–≤ (–ü—Ä–∏–Ω—è—Ç—å/–û—Ç–∫–ª–æ–Ω–∏—Ç—å). |

### Frontend –°—Ç—Ä–∞–Ω–∏—Ü—ã (`frontend/src/pages`)
- **`Dashboard.tsx`**: –ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–π Bento-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≤–∏–¥–∂–µ—Ç–æ–º —Ä–µ–π—Ç–∏–Ω–≥–∞ –∞–º–±–∞—Å—Å–∞–¥–æ—Ä–æ–≤.
- **`OrderPage.tsx`**: –¢—Ä–µ—Ö—à–∞–≥–æ–≤—ã–π —É–º–Ω—ã–π –∑–∞–∫–∞–∑ —Å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º "Recommended Gaps" (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö —Ç–æ–ø-–≤–∫—É—Å–æ–≤).
- **`VisitWizard.tsx`**: –ú–æ—â–Ω—ã–π –º–∞—Å—Ç–µ—Ä –æ—Ç—á–µ—Ç–æ–≤ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Core**: React 18, TypeScript (Strict Mode).
- **Styling**: Tailwind CSS (Custom Theme: *Noble Blue & Anti-Gravity*).
- **Animations**: Framer Motion (Glassmorphism & Spring effects).
- **API**: Axios + Centralized `apiClient`.
- **Database**: PostgreSQL + Prisma.
- **Icons**: Lucide React.
- **Verification**: Zero Lint/TS errors (Standard: Technical Perfection).

---

## ‚ö°Ô∏è –ö–ª—é—á–µ–≤—ã–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã

### Bridge: –í–∏–∑–∏—Ç ‚Üí –ó–∞–∫–∞–∑
1. –ê–º–±–∞—Å—Å–∞–¥–æ—Ä –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤–∏–∑–∏—Ç **¬´–¢—Ä–∞–Ω–∑–∏—Ç¬ª**, –æ—Ç–º–µ—á–∞—è –Ω–∞–ª–∏—á–∏–µ —Ç–∞–±–∞–∫–∞ –Ω–∞ –ø–æ–ª–∫–µ.
2. –ë—ç–∫–µ–Ω–¥ –æ–±–Ω–æ–≤–ª—è–µ—Ç `mustList` –∑–∞–≤–µ–¥–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ —ç—Ç–æ–≥–æ –≤–∏–∑–∏—Ç–∞.
3. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ **¬´–ó–∞–∫–∞–∑–∞¬ª**, —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç: `Top Flavors` (–æ—Ç –∞–¥–º–∏–Ω–∞) –ú–ò–ù–£–° `mustList` (–∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–∏–∑–∏—Ç–∞) = **Gaps**.
4. –ê–º–±–∞—Å—Å–∞–¥–æ—Ä –≤–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ —Ç–æ–≥–æ, —á—Ç–æ *–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ* –Ω—É–∂–Ω–æ –¥–æ–ø—Ä–æ–¥–∞—Ç—å –≤ —ç—Ç–æ –∑–∞–≤–µ–¥–µ–Ω–∏–µ.

---

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

1.  **–£—Å—Ç–∞–Ω–æ–≤–∫–∞**: `npm install` –≤ –∫–æ—Ä–Ω–µ, `/backend` –∏ `/frontend`.
2.  **–ë–î**: `docker-compose up -d`.
3.  **–°–±–æ—Ä–∫–∞**: `npm run build` (–≤ –æ–±–æ–∏—Ö –ø–∞–ø–∫–∞—Ö) ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏.
4.  **–°—Ä–µ–¥–∞**: –ù—É–∂–µ–Ω `TELEGRAM_BOT_TOKEN` –∏ `DATABASE_URL` –≤ `.env`.

---

## üõ° –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **iPhone-style LockScreen**: 8-–∑–Ω–∞—á–Ω—ã–π –ø–∏–Ω-–∫–æ–¥ + –ë–∏–æ–º–µ—Ç—Ä–∏—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω–∫–µ.
- **TG InitData Auth**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –±–æ—Ç–∞.
